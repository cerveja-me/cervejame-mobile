

<ion-content class="receipt">
  <div class="modal-overlay"  [ngClass]="closing ? 'on-close': '' " (click)="close('cancel')"></div>
  <div class="receipt__box">

    <div class="receipt__quantidade">
      <span class="figure__pedido" *ngIf="product"><img-loader class="figure__pedido__img" [src]="'http://cerveja.me/img/mobile/'+product.product.img"></img-loader></span>
      <span class="quantidade-pedido" *ngIf="product">{{product.amount}} {{product.product.cold?'Caixa':'Garrafa'}}{{product.amount>1?'s de':' de'}} {{product.product.name}}</span>
    </div>
    <div class="receipt__voucher" *ngIf="product">
      <button class="receipt__voucher__btn" (click)="openVoucherModal()" [ngClass]="coupom?'active':''">
        <label *ngIf="coupom">R$ {{coupom.value | number:'2.2-2'}}</label>
        <label *ngIf="!coupom">+ CUPOM</label>
        <span class="receipt__voucher__icon"></span>
      </button>
    </div>

    <div class="receipt__total" *ngIf="product">
      <h2 class="receipt__title">Total a pagar</h2>
      <span class="total__pricebox">
        <span class="total__oldprice"*ngIf="coupom && product.amount>=coupom.min_amount">R$ {{product.amount * product.beer.price |number:'2.2-2'}}</span>
        <small class="total__pricebox--currency" >R$</small>{{product.amount * product.beer.price -(coupom?coupom.value:0) |number:'2.2-2'}}
      </span>
    </div>

    <div class="payment">
      <button class="payment__option" [ngClass]="payment=='card'?'active':''" (click)="payment='card'">
        <span class="icon-maquina"></span>
        <label class="payment__option__label">MÃ¡quina</label>
      </button>
      <button class="payment__option" [ngClass]="payment=='money'?'active':''" (click)="payment='money'">
        <span class="icon-money"></span>
        <label class="payment__option__label">Dinheiro</label>
      </button>
      <button class="payment__option inactive">
        <span class="icon-card"></span>
        <label class="payment__option__label">Via app</label>
      </button>
    </div>

    <div class="receipt__address" (click)="close()" ><span class="icon-map receipt__address__icon" *ngIf="address"></span>{{address}}<span class="icon-arrow-fw" *ngIf="address"></span></div>


    <button ion-button secondary class="btn-primary" (click)="finishOrder()">CONCLUIR PEDIDO</button>

  </div>

</ion-content>
